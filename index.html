<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glory & Jackie - Mariage</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero">
    <div class="hero__overlay"></div>
    <nav class="top-nav">
      <div class="brand">Limitless Grace</div>
      <button class="nav-toggle" aria-label="Menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
      <div class="nav-links">
        <a href="#histoire">Notre histoire</a>
        <a href="#jours">Les grands jours</a>
        <a href="#presence">Présence</a>
        <a href="#hebergement">Hébergement</a>
        <a href="#cagnotte">Cagnotte</a>
      </div>
    </nav>
    <div class="hero__content">
      <p class="eyebrow">Limitless Grace présente</p>
      <h1>Glory & Jackie</h1>
      <p class="date-lieu">Samedi 18 Juillet 2026 — Lomé, Togo</p>
      <p class="slogan">« Un parcours d'Amour ! »</p>
      <div class="hero__cta">
        <button class="btn primary open-rsvp" type="button">M'enregistrer</button>
        <a class="btn ghost" href="#jours">Découvrir les moments</a>
      </div>
    </div>
  </header>

  <main>
    <section id="histoire" class="section story">
      <div class="section__title">
        <p class="eyebrow">Grace & Foi</p>
        <h2>Notre histoire</h2>
      </div>
      <div class="story__grid">
        <div class="story__text">
          <p>
            Une rencontre dont les voies ont été initiées par le SEIGNEUR il y a un peu plus d'une décennie va enfin connaître, non pas un aboutissement, mais une consécration et un relâchement dans la concrétisation de Son plan.
          </p>
          <p>
            Ces années, bien qu'ayant été longues à nos yeux, n'étaient en réalité que le temps nécessaire voulu par DIEU LE PÈRE pour nous équiper et de nous préparer à cette nouvelle étape : celle au cours de laquelle Sa seule grâce nous soutiendra et nous conduira à l'accomplissement parfait de Ses desseins.
          </p>
          <p>
            En franchissant ce nouveau cap, nous serions honorés de votre présence en qualité de témoins, devant lesquels DIEU nous unira par Sa seule volonté.
          </p>
        </div>
        <div class="story__media">
          <img src="Image.png" alt="Glory et Jackie">
          <div class="quote">
            <span class="quote__mark">✶</span>
            <p>« Ce que Dieu a uni, que l'homme ne le sépare pas. »</p>
            <small>Marc 10:9</small>
          </div>
        </div>
      </div>
    </section>

    <section id="jours" class="section events">
      <div class="section__title">
        <p class="eyebrow">Les grands jours</p>
        <h2>Un parcours en trois temps</h2>
      </div>
      <div class="timeline">
        <article class="card">
          <p class="card__eyebrow">Dot</p>
          <h3>11 juillet 2026</h3>
          <p class="card__meta">08h00 — Adidogome, Yokoè</p>
          <p class="card__text">Une rencontre des familles pour bénir les racines et honorer la tradition.</p>
        </article>
        <article class="card">
          <p class="card__eyebrow">Mariage Civil</p>
          <h3>16 juillet 2026</h3>
          <p class="card__meta">09h00 — Mairie Golfe 4</p>
          <p class="card__text">Le “oui” légal, prononcé avec simplicité et gratitude.</p>
        </article>
        <article class="card">
          <p class="card__eyebrow">Bénédiction Nuptiale</p>
          <h3>18 juillet 2026</h3>
          <p class="card__meta">14h00 — Lomé</p>
          <p class="card__text">Une célébration solennelle et joyeuse devant Dieu et la communauté.</p>
        </article>
      </div>
    </section>

    <section id="presence" class="section rsvp">
      <div class="section__title">
        <p class="eyebrow">Présence</p>
        <h2>Confirmez votre venue</h2>
        <p class="section__subtitle">Choisissez l'événement où vous serez avec nous.</p>
      </div>
      <div class="rsvp__buttons">
        <button class="btn primary open-rsvp" type="button">Dot</button>
        <button class="btn primary open-rsvp" type="button">Civil</button>
        <button class="btn primary open-rsvp" type="button">Bénédiction</button>
        <button class="btn ghost open-rsvp" type="button">Tous les moments</button>
      </div>
      <p class="hint">Vous recevrez un message de confirmation après validation.</p>
    </section>

    <section id="hebergement" class="section lodging">
      <div class="section__title">
        <p class="eyebrow">Accomodation</p>
        <h2>Hébergement</h2>
      </div>
      <div class="lodging__grid">
        <article class="card lodging__card">
          <div class="card__header">
            <h3>Studio</h3>
            <span class="pill">2 pers. max.</span>
          </div>
          <div class="card__divider"></div>
          <ul class="card__features">
            <li>Chambre Climatisée</li>
            <li>Lit 2 Places</li>
            <li>TV + Wi-Fi disponible</li>
            <li>Cuisine</li>
            <li>WC/D Interne</li>
            <li>Electricité</li>
          </ul>
          <div class="card__divider"></div>
          <p class="price">46 € <span class="price__unit">/ la nuitée</span></p>
        </article>
        <article class="card lodging__card lodging__card--highlight">
          <div class="card__header">
            <h3>Chambre + Salon</h3>
            <span class="pill">2 pers. max.</span>
          </div>
          <div class="card__divider"></div>
          <ul class="card__features">
            <li>Chambre Climatisée</li>
            <li>Lit 2 Places</li>
            <li>TV + Wi-Fi disponible</li>
            <li>Cuisine</li>
            <li>WC/D Interne</li>
            <li>Electricité</li>
          </ul>
          <div class="card__divider"></div>
          <p class="price">65 € <span class="price__unit">/ la nuitée</span></p>
        </article>
        <article class="card lodging__card">
          <div class="card__header">
            <h3>4 Chambres + Salon</h3>
            <span class="pill">8 pers. max.</span>
          </div>
          <div class="card__divider"></div>
          <ul class="card__features">
            <li>Chambre Climatisée</li>
            <li>Lit 4 Places</li>
            <li>TV + Wi-Fi disponible</li>
            <li>Cuisine</li>
            <li>WC/D Interne</li>
            <li>Electricité</li>
          </ul>
          <div class="card__divider"></div>
          <p class="price">125 € <span class="price__unit">/ la nuitée</span></p>
        </article>
      </div>
    </section>

    <section id="cagnotte" class="section gift">
      <div class="gift__panel">
        <div>
          <p class="eyebrow">Honey Moon</p>
          <h2>Cagnotte & bénédictions</h2>
          <p>Vous pouvez semer dans notre voyage de noces ou participer à la liste de cadeaux.</p>
          <div class="gift__actions">
            <button class="btn primary open-gift" type="button">Participer à la cagnotte</button>
            <button class="btn ghost">Voir la liste de cadeaux</button>
          </div>
        </div>
        <div class="gift__list">
          <h3>Idées cadeaux</h3>
          <ul>
            <li>Mixeur / Blender</li>
            <li>Air Fryer</li>
            <li>Micro-ondes</li>
            <li>Fours</li>
            <li>Extracteur de jus</li>
          </ul>
            <h3>Les cadeaux sont à recevoir en France </h3>

        </div>
      </div>
    </section>
    <section class="section gallery">
      <div class="section__title">
        <p class="eyebrow">Moments</p>
        <h2>En images</h2>
      </div>
      <div class="carousel">
        <div class="carousel__track">
          <img src="Ok.png" alt="Couple posant ensemble" class="carousel__slide">
          <img src="Ok-1.png" alt="Couple souriant" class="carousel__slide">
          <img src="photos/ph_d1.jpeg" alt="Photo 1" class="carousel__slide">
          <img src="photos/ph_d2.jpeg" alt="Photo 2" class="carousel__slide">
          <img src="photos/ph_d3.jpeg" alt="Photo 3" class="carousel__slide">
          <img src="photos/ph_d4.jpeg" alt="Photo 4" class="carousel__slide">
          <img src="photos/ph_d5.jpeg" alt="Photo 5" class="carousel__slide">
          <img src="photos/ph_d6.jpeg" alt="Photo 6" class="carousel__slide">
        </div>
        <button class="carousel__btn carousel__btn--prev" aria-label="Photo précédente">&#8249;</button>
        <button class="carousel__btn carousel__btn--next" aria-label="Photo suivante">&#8250;</button>
        <div class="carousel__dots"></div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer__brand">
      <p class="eyebrow">G & J</p>
      <h3>Un parcours d'Amour</h3>
      <p class="quote__small">« L'amour est patient, il est plein de bonté. »</p>
    </div>
    <div class="footer__contact">
      <p class="eyebrow">Contacts</p>
      <p>+228 93 05 59 46</p>
      <p>+33 06 59 76 64 91</p>
    </div>
    <div class="footer__note">
      <p>Avec gratitude pour chaque prière et chaque sourire partagé.</p>
    </div>
  </footer>

  <div class="modal" id="giftModal" aria-hidden="true" aria-modal="true" role="dialog" aria-labelledby="giftTitle">
    <div class="modal__overlay"></div>
    <div class="modal__dialog">
      <button class="modal__close" aria-label="Fermer la cagnotte">&times;</button>
      <div class="modal__header">
        <p class="eyebrow">Honey Moon</p>
        <h2 id="giftTitle">Participer à la cagnotte</h2>
        <p class="hint">Choisissez votre moyen de contribution.</p>
      </div>
      <div class="gift-modal__grid">
        <article class="card">
          <p class="card__eyebrow">PayPal</p>
          <h3>Contribution en ligne</h3>
          <p class="card__text">Cliquez pour ouvrir notre lien PayPal sécurisé.</p>
          <a class="btn primary" href="https://www.paypal.com/paypalme/jacquelinets" target="_blank" rel="noopener noreferrer">Ouvrir PayPal</a>
        </article>
        <article class="card">
          <p class="card__eyebrow">Western Union</p>
          <h3>Coordonnées</h3>
          <p class="card__text">
            Nom : TSOLENYANU<br>
            Prenom : Jacqueline<br>
            Pays : France<br>
            Tel : +33 06 59 76 64 91
          </p>
            <a class="btn primary" href="https://www.westernunion.com/fr/fr/web/send-money/start?ReceiveCountry=FR&ISOCurrency=EUR&SendAmount=200.00&FundsOut=undefined&FundsIn=CreditCard" target="_blank" rel="noopener noreferrer">Ouvrir Wester Union</a>
            <p class="hint small">Merci d'avoir participé</p>
        </article>
      </div>
    </div>
  </div>

  <div class="modal" id="rsvpModal" aria-hidden="true" aria-modal="true" role="dialog" aria-labelledby="rsvpTitle">
    <div class="modal__overlay"></div>
    <div class="modal__dialog">
      <button class="modal__close" aria-label="Fermer le formulaire">&times;</button>
      <div class="modal__header">
        <p class="eyebrow">RSVP avancé</p>
        <h2 id="rsvpTitle">M'enregistrer / Confirmer ma présence</h2>
        <p class="hint">Champs marqués * obligatoires. Vos réponses guident la logistique (événements, hébergement, arrivées/départs).</p>
      </div>
      <form id="rsvpForm" novalidate>
        <div id="entryFields" hidden></div>
        <fieldset class="form-block">
          <legend>Identité de l'invité</legend>
          <div class="form-grid">
            <label class="field">
              <span>Nom *</span>
              <input type="text" name="nom" autocomplete="family-name" required>
            </label>
            <label class="field">
              <span>Prénoms *</span>
              <input type="text" name="prenoms" autocomplete="given-name" required>
            </label>
            <label class="field">
              <span>Contact (WhatsApp) *</span>
              <input type="tel" name="contact" placeholder="+228 ou +33 ..." autocomplete="tel" required>
            </label>
            <label class="field">
              <span>Email *</span>
              <input type="email" name="email" placeholder="votre@email.com" autocomplete="email" required>
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Présence aux événements *</legend>
          <p class="hint">Choisissez un ou plusieurs moments.</p>
          <div class="options options--grid" data-required="checkbox">
            <label><input type="checkbox" name="events" value="à la Dot"> Dot</label>
            <label><input type="checkbox" name="events" value="au Mariage Civil"> Mariage Civil</label>
            <label><input type="checkbox" name="events" value="à la Bénédiction Nuptiale"> Bénédiction Nuptiale</label>
          </div>
          <p class="error" data-error="events"></p>
        </fieldset>

        <fieldset class="form-block">
          <legend>Hébergement *</legend>
          <p class="hint">Pour anticiper les colocations et réservations.</p>
          <div class="options" data-required="radio">
            <label><input type="radio" name="logement" value="Studio - 46€" required> Studio - 46€</label>
            <label><input type="radio" name="logement" value="1 Chambre + 1 Salon - 65 €"> 1 Chambre + 1 Salon - 65 €</label>
            <label><input type="radio" name="logement" value="4 Chambres + 1 Salon (J'accepte de partager la résidence avec d'autres invités) 125 €"> 4 Chambres + 1 Salon (J'accepte de partager la résidence avec d'autres invités) 125 €</label>
            <label><input type="radio" name="logement" value="J'ai déjà un logement à Lomé"> J'ai déjà un logement à Lomé</label>
          </div>
          <p class="error" data-error="logement"></p>
        </fieldset>

        <fieldset class="form-block">
          <legend>Relation avec le couple *</legend>
          <div class="two-col">
            <label class="field">
              <span>Invitation envoyée par</span>
              <div class="options options--inline" data-required="radio">
                <label><input type="radio" name="envoyepar" value="Glory" required> Glory</label>
                <label><input type="radio" name="envoyepar" value="Jacqueline"> Jacqueline</label>
              </div>
              <p class="error" data-error="envoyepar"></p>
            </label>
            <label class="field">
              <span>Nature de la relation</span>
              <select name="relation" required>
                <option value="">Sélectionnez</option>
                <option value="Famille">Membre de famille</option>
                <option value="Eglise">Frère / Sœur de l’église</option>
                <option value="Ami">Ami.e.s</option>
                <option value="Proche">Proches</option>
              </select>
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Provenance *</legend>
          <div class="form-grid">
            <label class="field">
              <span>De quel pays venez-vous ?</span>
              <select name="pays" required>
                <option value="">Choisissez</option>
                <option value="France">France</option>
                <option value="Allemangne">Allemangne</option>
                <option value="Etats-Unis">États-Unis</option>
                <option value="Canada">Canada</option>
                <option value="Autres">Autres</option>
              </select>
            </label>
            <label class="field">
              <span>Si “Autres”, précisez</span>
              <input type="text" name="pays_autres" placeholder="Pays">
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Dates de séjour *</legend>
          <div class="form-grid">
            <label class="field">
              <span>Date d'arrivée</span>
              <input type="date" name="arrivee" required>
            </label>
            <label class="field">
              <span>Date de départ</span>
              <input type="date" name="depart" required>
            </label>
          </div>
        </fieldset>

        <div class="form-actions">
          <button type="submit" class="btn primary">Envoyer</button>
          <button type="button" class="btn ghost modal__close">Annuler</button>
        </div>
        <p class="hint small">Ces informations pourront être envoyées vers votre base de données / email / Google Forms.</p>
      </form>
      <div class="toast" id="toast" role="status" aria-live="polite">Merci ! Votre réponse a été enregistrée.</div>
    </div>
  </div>
  <form id="googleForm"
        action="https://docs.google.com/forms/d/e/1FAIpQLScDK1pyvEM9nk3UeXNmv16eJuJUykDHjEE-thYpcQgPz2KHmA/formResponse"
        method="POST"
        target="formTarget"
        style="display:none;">
  </form>
  <iframe id="formTarget" name="formTarget" class="hidden-frame"></iframe>

  <script>
    // Mobile nav toggle
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    navToggle.addEventListener('click', () => {
      const open = navLinks.classList.toggle('open');
      navToggle.classList.toggle('open', open);
      navToggle.setAttribute('aria-expanded', open);
    });
    navLinks.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        navLinks.classList.remove('open');
        navToggle.classList.remove('open');
        navToggle.setAttribute('aria-expanded', 'false');
      });
    });

    // Carousel
    (function() {
      const track = document.querySelector('.carousel__track');
      const slides = document.querySelectorAll('.carousel__slide');
      const dotsContainer = document.querySelector('.carousel__dots');
      const prevBtn = document.querySelector('.carousel__btn--prev');
      const nextBtn = document.querySelector('.carousel__btn--next');
      let current = 0;
      let autoTimer;

      slides.forEach((_, i) => {
        const dot = document.createElement('button');
        dot.className = 'carousel__dot' + (i === 0 ? ' active' : '');
        dot.setAttribute('aria-label', 'Photo ' + (i + 1));
        dot.addEventListener('click', () => goTo(i));
        dotsContainer.appendChild(dot);
      });

      const dots = dotsContainer.querySelectorAll('.carousel__dot');

      function goTo(index) {
        current = (index + slides.length) % slides.length;
        track.style.transform = 'translateX(-' + (current * 100) + '%)';
        dots.forEach((d, i) => d.classList.toggle('active', i === current));
        resetAuto();
      }

      prevBtn.addEventListener('click', () => goTo(current - 1));
      nextBtn.addEventListener('click', () => goTo(current + 1));

      function resetAuto() {
        clearInterval(autoTimer);
        autoTimer = setInterval(() => goTo(current + 1), 5000);
      }
      resetAuto();

      // Swipe support
      let startX = 0;
      const carousel = document.querySelector('.carousel');
      carousel.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; }, { passive: true });
      carousel.addEventListener('touchend', (e) => {
        const diff = startX - e.changedTouches[0].clientX;
        if (Math.abs(diff) > 40) goTo(current + (diff > 0 ? 1 : -1));
      });
    })();

    const modal = document.getElementById('rsvpModal');
    const giftModal = document.getElementById('giftModal');
    const form = document.getElementById('rsvpForm');
    const toast = document.getElementById('toast');
    const googleForm = document.getElementById('googleForm');

    function toggleModal(show) {
      modal.setAttribute('aria-hidden', show ? 'false' : 'true');
      document.body.style.overflow = show ? 'hidden' : '';
    }

    function toggleGiftModal(show) {
      giftModal.setAttribute('aria-hidden', show ? 'false' : 'true');
      document.body.style.overflow = show ? 'hidden' : '';
    }

    document.querySelectorAll('.open-rsvp').forEach(btn => {
      btn.addEventListener('click', () => toggleModal(true));
    });

    document.querySelectorAll('.open-gift').forEach(btn => {
      btn.addEventListener('click', () => toggleGiftModal(true));
    });

    modal.querySelectorAll('.modal__close, .modal__overlay').forEach(el => {
      el.addEventListener('click', () => toggleModal(false));
    });

    giftModal.querySelectorAll('.modal__close, .modal__overlay').forEach(el => {
      el.addEventListener('click', () => toggleGiftModal(false));
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') {
        toggleModal(false);
      }
      if (e.key === 'Escape' && giftModal.getAttribute('aria-hidden') === 'false') {
        toggleGiftModal(false);
      }
    });

    function setError(name, message) {
      const error = form.querySelector(`[data-error="${name}"]`);
      if (error) error.textContent = message || '';
    }

    function clearErrors() {
      form.querySelectorAll('.error').forEach(err => err.textContent = '');
      form.querySelectorAll('.invalid').forEach(el => el.classList.remove('invalid'));
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      clearErrors();
      // Validation: au moins un événement
      const events = Array.from(form.querySelectorAll('input[name="events"]:checked'));
      if (!events.length) {
        setError('events', 'Sélectionnez au moins un événement.');
        return;
      }
      // Validation radio requis
      const requiredRadios = ['logement', 'envoyepar'];
      for (const name of requiredRadios) {
        const checked = form.querySelector(`input[name="${name}"]:checked`);
        if (!checked) {
          setError(name, 'Choix requis.');
          return;
        }
      }
      if (!form.checkValidity()) {
        form.reportValidity();
        form.querySelectorAll(':invalid').forEach(el => el.classList.add('invalid'));
        return;
      }
      // Soumission directe vers Google Sheets via Apps Script
      const data = {
        nom: form.nom.value.trim(),
        prenoms: form.prenoms.value.trim(),
        contact: form.contact.value.trim(),
        email: form.email.value.trim(),
        presence: events.map(ev => ev.value).join(', '),
        logement: form.logement.value,
        invitation: form.envoyepar.value,
        relation: form.relation.value,
        pays: form.pays.value === 'Autres' ? form.pays_autres.value || 'Autres' : form.pays.value,
        dateArrivee: form.arrivee.value,
        dateDepart: form.depart.value
      };

      fetch('https://script.google.com/macros/s/AKfycbysvbRzyk2vt65-2o6scKbQJh1xsaaBwhDLx91Xl4rKV0_TUZVvSfBRWvrEEJyUmxRx/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      toast.textContent = 'Merci ! Votre réponse a été enregistrée.';
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
      form.reset();
      toggleModal(false);
    });
  </script>
</body>
</html>
