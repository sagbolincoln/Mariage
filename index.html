<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glory & Jackie - Mariage</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero">
    <div class="hero__overlay"></div>
    <nav class="top-nav">
      <div class="brand">Limitless Grace</div>
      <div class="nav-links">
        <a href="#histoire">Notre histoire</a>
        <a href="#jours">Les grands jours</a>
        <a href="#presence">Présence</a>
        <a href="#hebergement">Hébergement</a>
        <a href="#cagnotte">Cagnotte</a>
      </div>
    </nav>
    <div class="hero__content">
      <p class="eyebrow">Limitless Grace présente</p>
      <h1>Glory & Jackie</h1>
      <p class="date-lieu">Samedi 18 Juillet 2026 — Lomé, Togo</p>
      <p class="slogan">« Un parcours d'Amour ! »</p>
      <div class="hero__cta">
        <button class="btn primary open-rsvp" type="button">M'enregistrer</button>
        <a class="btn ghost" href="#jours">Découvrir les moments</a>
      </div>
    </div>
  </header>

  <main>
    <section id="histoire" class="section story">
      <div class="section__title">
        <p class="eyebrow">Grace & Foi</p>
        <h2>Notre histoire</h2>
      </div>
      <div class="story__grid">
        <div class="story__text">
          <p>
            Portés par une grâce infinie, Glory et Jackie ont cheminé dans la prière et la fidélité. Leur rencontre est devenue promesse, leur promesse est devenue alliance. Aujourd'hui, ils placent leur amour sous la lumière du Christ, convaincus que l'Éternel construit la maison quand deux cœurs se livrent à Lui.
          </p>
          <p>
            Chaque étape a été une réponse : des regards au premier “oui”, de la dot à la bénédiction nuptiale. Ensemble, ils veulent célébrer la joie, la confiance et la louange, entourés de ceux qui ont nourri leur marche.
          </p>
        </div>
        <div class="story__media">
          <img src="Image.png" alt="Glory et Jackie">
          <div class="quote">
            <span class="quote__mark">✶</span>
            <p>« Ce que Dieu a uni, que l'homme ne le sépare pas. »</p>
            <small>Marc 10:9</small>
          </div>
        </div>
      </div>
    </section>

    <section id="jours" class="section events">
      <div class="section__title">
        <p class="eyebrow">Les grands jours</p>
        <h2>Un parcours en trois temps</h2>
      </div>
      <div class="timeline">
        <article class="card">
          <p class="card__eyebrow">Dot</p>
          <h3>11 juillet 2026</h3>
          <p class="card__meta">08h00 — Adidogome, Yokoè</p>
          <p class="card__text">Une rencontre des familles pour bénir les racines et honorer la tradition.</p>
        </article>
        <article class="card">
          <p class="card__eyebrow">Mariage Civil</p>
          <h3>16 juillet 2026</h3>
          <p class="card__meta">09h00 — Mairie Golfe 4</p>
          <p class="card__text">Le “oui” légal, prononcé avec simplicité et gratitude.</p>
        </article>
        <article class="card">
          <p class="card__eyebrow">Bénédiction Nuptiale</p>
          <h3>18 juillet 2026</h3>
          <p class="card__meta">14h00 — Lomé</p>
          <p class="card__text">Une célébration solennelle et joyeuse devant Dieu et la communauté.</p>
        </article>
      </div>
    </section>

    <section id="presence" class="section rsvp">
      <div class="section__title">
        <p class="eyebrow">Présence</p>
        <h2>Confirmez votre venue</h2>
        <p class="section__subtitle">Choisissez l'événement où vous serez avec nous.</p>
      </div>
      <div class="rsvp__buttons">
        <button class="btn primary open-rsvp" type="button">Dot</button>
        <button class="btn primary open-rsvp" type="button">Civil</button>
        <button class="btn primary open-rsvp" type="button">Bénédiction</button>
        <button class="btn ghost open-rsvp" type="button">Tous les moments</button>
      </div>
      <p class="hint">Vous recevrez un message de confirmation après validation.</p>
    </section>

    <section id="hebergement" class="section lodging">
      <div class="section__title">
        <p class="eyebrow">Hébergement</p>
        <h2>Votre maison pour le séjour</h2>
      </div>
      <div class="lodging__grid">
        <article class="card lodging__card">
          <div class="card__header">
            <h3>Maison Olive</h3>
            <span class="pill">6 pers.</span>
          </div>
          <p class="card__text">3 chambres, clim, wifi, jardin.</p>
          <p class="price">45 000 FCFA / nuit</p>
          <button class="btn primary">OK</button>
        </article>
        <article class="card lodging__card">
          <div class="card__header">
            <h3>Suite Sable</h3>
            <span class="pill">2 pers.</span>
          </div>
          <p class="card__text">Studio cosy, proche du centre, petit-déjeuner.</p>
          <p class="price">30 000 FCFA / nuit</p>
          <button class="btn primary">OK</button>
        </article>
        <article class="card lodging__card">
          <div class="card__header">
            <h3>Villa Lumière</h3>
            <span class="pill">10 pers.</span>
          </div>
          <p class="card__text">Piscine, terrasse, cuisine équipée, gardien.</p>
          <p class="price">90 000 FCFA / nuit</p>
          <button class="btn primary">OK</button>
        </article>
      </div>
    </section>

    <section id="cagnotte" class="section gift">
      <div class="gift__panel">
        <div>
          <p class="eyebrow">Honey Moon</p>
          <h2>Cagnotte & bénédictions</h2>
          <p>Vous pouvez semer dans notre voyage de noces ou participer à la liste de cadeaux.</p>
          <div class="gift__actions">
            <button class="btn primary open-gift" type="button">Participer à la cagnotte</button>
            <button class="btn ghost">Voir la liste de cadeaux</button>
          </div>
        </div>
        <div class="gift__list">
          <h3>Idées cadeaux</h3>
          <ul>
            <li>Mixeur / Blender</li>
            <li>Air Fryer</li>
            <li>Micro-ondes</li>
            <li>Fours</li>
            <li>Extracteur de jus</li>
          </ul>
            <h3>Les cadeaux sont à recevoir en France </h3>

        </div>
      </div>
    </section>
    <section class="section gallery">
      <div class="section__title">
        <p class="eyebrow">Moments</p>
        <h2>En images</h2>
      </div>
      <div class="gallery__grid">
        <img src="Ok.png" alt="Couple posant ensemble" class="gallery__item">
        <img src="Ok-1.png" alt="Couple souriant" class="gallery__item wide">
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer__brand">
      <p class="eyebrow">G & J</p>
      <h3>Un parcours d'Amour</h3>
      <p class="quote__small">« L'amour est patient, il est plein de bonté. »</p>
    </div>
    <div class="footer__contact">
      <p class="eyebrow">Contacts</p>
      <p>+228 93 05 59 46</p>
      <p>+33 06 59 76 64 91</p>
    </div>
    <div class="footer__note">
      <p>Avec gratitude pour chaque prière et chaque sourire partagé.</p>
    </div>
  </footer>

  <div class="modal" id="giftModal" aria-hidden="true" aria-modal="true" role="dialog" aria-labelledby="giftTitle">
    <div class="modal__overlay"></div>
    <div class="modal__dialog">
      <button class="modal__close" aria-label="Fermer la cagnotte">&times;</button>
      <div class="modal__header">
        <p class="eyebrow">Honey Moon</p>
        <h2 id="giftTitle">Participer à la cagnotte</h2>
        <p class="hint">Choisissez votre moyen de contribution.</p>
      </div>
      <div class="gift-modal__grid">
        <article class="card">
          <p class="card__eyebrow">PayPal</p>
          <h3>Contribution en ligne</h3>
          <p class="card__text">Cliquez pour ouvrir notre lien PayPal sécurisé.</p>
          <a class="btn primary" href="https://www.paypal.com/paypalme/jacquelinets" target="_blank" rel="noopener noreferrer">Ouvrir PayPal</a>
        </article>
        <article class="card">
          <p class="card__eyebrow">Western Union</p>
          <h3>Coordonnées</h3>
          <p class="card__text">
            Nom : TSOLENYANU<br>
            Prenom : Jacqueline<br>
            Pays : France<br>
            Tel : +33 06 59 76 64 91
          </p>
            <a class="btn primary" href="https://www.westernunion.com/fr/fr/web/send-money/start?ReceiveCountry=FR&ISOCurrency=EUR&SendAmount=200.00&FundsOut=undefined&FundsIn=CreditCard" target="_blank" rel="noopener noreferrer">Ouvrir Wester Union</a>
            <p class="hint small">Merci d'avoir participé</p>
        </article>
      </div>
    </div>
  </div>

  <div class="modal" id="rsvpModal" aria-hidden="true" aria-modal="true" role="dialog" aria-labelledby="rsvpTitle">
    <div class="modal__overlay"></div>
    <div class="modal__dialog">
      <button class="modal__close" aria-label="Fermer le formulaire">&times;</button>
      <div class="modal__header">
        <p class="eyebrow">RSVP avancé</p>
        <h2 id="rsvpTitle">M'enregistrer / Confirmer ma présence</h2>
        <p class="hint">Champs marqués * obligatoires. Vos réponses guident la logistique (événements, hébergement, arrivées/départs).</p>
      </div>
      <form id="rsvpForm" novalidate>
        <div id="entryFields" hidden></div>
        <fieldset class="form-block">
          <legend>Identité de l'invité</legend>
          <div class="form-grid">
            <label class="field">
              <span>Nom *</span>
              <input type="text" name="nom" autocomplete="family-name" required>
            </label>
            <label class="field">
              <span>Prénoms *</span>
              <input type="text" name="prenoms" autocomplete="given-name" required>
            </label>
            <label class="field">
              <span>Contact (WhatsApp) *</span>
              <input type="tel" name="contact" placeholder="+228 ou +33 ..." autocomplete="tel" required>
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Présence aux événements *</legend>
          <p class="hint">Choisissez un ou plusieurs moments.</p>
          <div class="options options--grid" data-required="checkbox">
            <label><input type="checkbox" name="events" value="à la Dot"> Dot</label>
            <label><input type="checkbox" name="events" value="au Mariage Civil"> Mariage Civil</label>
            <label><input type="checkbox" name="events" value="à la Bénédiction Nuptiale"> Bénédiction Nuptiale</label>
          </div>
          <p class="error" data-error="events"></p>
        </fieldset>

        <fieldset class="form-block">
          <legend>Hébergement *</legend>
          <p class="hint">Pour anticiper les colocations et réservations.</p>
          <div class="options" data-required="radio">
            <label><input type="radio" name="logement" value="Studio - 46€" required> Studio - 46€</label>
            <label><input type="radio" name="logement" value="1 Chambre + 1 Salon - 65 €"> 1 Chambre + 1 Salon - 65 €</label>
            <label><input type="radio" name="logement" value="4 Chambres + 1 Salon (J'accepte de partager la résidence avec d'autres invités) 125 €"> 4 Chambres + 1 Salon (J'accepte de partager la résidence avec d'autres invités) 125 €</label>
            <label><input type="radio" name="logement" value="J'ai déjà un logement à Lomé"> J'ai déjà un logement à Lomé</label>
          </div>
          <p class="error" data-error="logement"></p>
        </fieldset>

        <fieldset class="form-block">
          <legend>Relation avec le couple *</legend>
          <div class="two-col">
            <label class="field">
              <span>Invitation envoyée par</span>
              <div class="options options--inline" data-required="radio">
                <label><input type="radio" name="envoyepar" value="Glory" required> Glory</label>
                <label><input type="radio" name="envoyepar" value="Jacqueline"> Jacqueline</label>
              </div>
              <p class="error" data-error="envoyepar"></p>
            </label>
            <label class="field">
              <span>Nature de la relation</span>
              <select name="relation" required>
                <option value="">Sélectionnez</option>
                <option value="Famille">Membre de famille</option>
                <option value="Eglise">Frère / Sœur de l’église</option>
                <option value="Ami">Ami.e.s</option>
                <option value="Proche">Proches</option>
              </select>
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Provenance *</legend>
          <div class="form-grid">
            <label class="field">
              <span>De quel pays venez-vous ?</span>
              <select name="pays" required>
                <option value="">Choisissez</option>
                <option value="France">France</option>
                <option value="Allemangne">Allemangne</option>
                <option value="Etats-Unis">États-Unis</option>
                <option value="Canada">Canada</option>
                <option value="Autres">Autres</option>
              </select>
            </label>
            <label class="field">
              <span>Si “Autres”, précisez</span>
              <input type="text" name="pays_autres" placeholder="Pays">
            </label>
          </div>
        </fieldset>

        <fieldset class="form-block">
          <legend>Dates de séjour *</legend>
          <div class="form-grid">
            <label class="field">
              <span>Date d'arrivée</span>
              <input type="date" name="arrivee" required>
            </label>
            <label class="field">
              <span>Date de départ</span>
              <input type="date" name="depart" required>
            </label>
          </div>
        </fieldset>

        <div class="form-actions">
          <button type="submit" class="btn primary">Envoyer</button>
          <button type="button" class="btn ghost modal__close">Annuler</button>
        </div>
        <p class="hint small">Ces informations pourront être envoyées vers votre base de données / email / Google Forms.</p>
      </form>
      <div class="toast" id="toast" role="status" aria-live="polite">Merci ! Votre réponse a été enregistrée.</div>
    </div>
  </div>
  <form id="googleForm"
        action="https://docs.google.com/forms/d/e/1FAIpQLScDK1pyvEM9nk3UeXNmv16eJuJUykDHjEE-thYpcQgPz2KHmA/formResponse"
        method="POST"
        target="formTarget"
        style="display:none;">
  </form>
  <iframe id="formTarget" name="formTarget" class="hidden-frame"></iframe>

  <script>
    const modal = document.getElementById('rsvpModal');
    const giftModal = document.getElementById('giftModal');
    const form = document.getElementById('rsvpForm');
    const toast = document.getElementById('toast');
    const googleForm = document.getElementById('googleForm');

    function toggleModal(show) {
      modal.setAttribute('aria-hidden', show ? 'false' : 'true');
      document.body.style.overflow = show ? 'hidden' : '';
    }

    function toggleGiftModal(show) {
      giftModal.setAttribute('aria-hidden', show ? 'false' : 'true');
      document.body.style.overflow = show ? 'hidden' : '';
    }

    document.querySelectorAll('.open-rsvp').forEach(btn => {
      btn.addEventListener('click', () => toggleModal(true));
    });

    document.querySelectorAll('.open-gift').forEach(btn => {
      btn.addEventListener('click', () => toggleGiftModal(true));
    });

    modal.querySelectorAll('.modal__close, .modal__overlay').forEach(el => {
      el.addEventListener('click', () => toggleModal(false));
    });

    giftModal.querySelectorAll('.modal__close, .modal__overlay').forEach(el => {
      el.addEventListener('click', () => toggleGiftModal(false));
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') {
        toggleModal(false);
      }
      if (e.key === 'Escape' && giftModal.getAttribute('aria-hidden') === 'false') {
        toggleGiftModal(false);
      }
    });

    function setError(name, message) {
      const error = form.querySelector(`[data-error="${name}"]`);
      if (error) error.textContent = message || '';
    }

    function clearErrors() {
      form.querySelectorAll('.error').forEach(err => err.textContent = '');
      form.querySelectorAll('.invalid').forEach(el => el.classList.remove('invalid'));
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      clearErrors();
      // Validation: au moins un événement
      const events = Array.from(form.querySelectorAll('input[name="events"]:checked'));
      if (!events.length) {
        setError('events', 'Sélectionnez au moins un événement.');
        return;
      }
      // Validation radio requis
      const requiredRadios = ['logement', 'envoyepar'];
      for (const name of requiredRadios) {
        const checked = form.querySelector(`input[name="${name}"]:checked`);
        if (!checked) {
          setError(name, 'Choix requis.');
          return;
        }
      }
      if (!form.checkValidity()) {
        form.reportValidity();
        form.querySelectorAll(':invalid').forEach(el => el.classList.add('invalid'));
        return;
      }
      // Soumission directe vers Google Sheets via Apps Script
      const data = {
        nom: form.nom.value.trim(),
        prenoms: form.prenoms.value.trim(),
        contact: form.contact.value.trim(),
        presence: events.map(ev => ev.value).join(', '),
        logement: form.logement.value,
        invitation: form.envoyepar.value,
        relation: form.relation.value,
        pays: form.pays.value === 'Autres' ? form.pays_autres.value || 'Autres' : form.pays.value,
        dateArrivee: form.arrivee.value,
        dateDepart: form.depart.value
      };

      fetch('https://script.google.com/macros/s/AKfycbxI1MWhW-Z597c8dyQODvNDdMAg6amq73FhgZeQ3WiuU3TA1n8sq5WUIehcvXnD8_mK/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      toast.textContent = 'Merci ! Votre réponse a été enregistrée.';
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
      form.reset();
      toggleModal(false);
    });
  </script>
</body>
</html>
